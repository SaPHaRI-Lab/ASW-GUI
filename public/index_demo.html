<!DOCTYPE html>
<html>

<head>
	<title>Express SQLite App</title>
	<style>
		body {
			font-family: Arial, sans-serif;
			padding: 20px;
		}

		h1 {
			color: #333;
		}

		form {
			margin-bottom: 20px;
		}

		input[type="text"] {
			padding: 5px;
			font-size: 16px;
		}

		input[type="submit"] {
			padding: 5px 10px;
			font-size: 16px;
			cursor: pointer;
		}

		ul {
			list-style-type: none;
			padding: 0;
		}

		li {
			padding: 5px 0;
		}
	</style>
</head>

<body>
	<h1>Welcome to the Express SQLite App</h1>

	<form id="itemForm">
		<input type="text" id="itemName" placeholder="Enter item name" required />
		<input type="submit" value="Add Item" />
	</form>

	<ul id="itemList"></ul>

	<script>
		const itemForm = document.getElementById('itemForm');
		const itemName = document.getElementById('itemName');
		const itemList = document.getElementById('itemList');

		// Fetch and display items
		function fetchItems() {
			fetch('/api/items')
				.then(response => response.json())
				.then(response => {
					itemList.innerHTML = '';
					response.data.forEach(item => {
						const li = document.createElement('li');
						li.textContent = item.name;
						itemList.appendChild(li);
					});
				});
		}

		// Add new item
		itemForm.addEventListener('submit', function (event) {
			event.preventDefault();
			fetch('/api/items', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({ name: itemName.value })
			})
				.then(response => response.json())
				.then(response => {
					const newItem = response.data;
					const li = document.createElement('li');
					li.textContent = newItem.name;
					itemList.appendChild(li);
					itemName.value = '';
				});
		});

		// Initial fetch of items
		fetchItems();
	</script>
</body>

</html>